digraph createPublisher {

  subgraph MainThread {
    node [style=filled];
    color = lightgrey;

    a1[label="Domain::createPublisher"]
    a2[label="ParticipantImpl::createPublisher"]
    a3[label="RTPSDomain::createRTPSWriter"]
    a4[label="RTPSParticipantImpl::createWriter"]
    a5[label="RTPSParticipantImpl::createSendResources"]
  }

  subgraph AsyncWriterThread {
  }

  start -> a1 -> a2 -> a3 -> a4 -> a5;
  a5 -> end;

  start [shape=Mdiamond];
  end [shape=Msquare];
}